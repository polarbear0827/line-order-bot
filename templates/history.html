<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­·å²è¨˜éŒ„</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header-bar">
            <h1>ğŸ“š æ­·å²è¨˜éŒ„</h1>
            <div class="user-info">
                <span>ğŸ‘¤ {{ user.name }}</span>
            </div>
        </div>

        <div class="nav-buttons">
            <a href="{{ url_for('dashboard') }}" class="btn">è¿”å›é¦–é </a>
        </div>

        <div class="section">
            {% if orders %}
            <div class="history-list">
                {% for order in orders %}
                <div class="history-item {% if order.paid %}paid{% endif %}">
                    <div class="history-date">
                        {{ order.menu.menu_date.strftime('%m/%d') }}
                        <span class="history-meal">{{ meal_types[order.menu.meal_type] }}</span>
                    </div>
                    <div class="history-user">
                        ä»£è™Ÿ {{ order.user.user_code }} - {{ order.user.name }}
                    </div>
                    <div class="history-items">
                        {{ order.items }}
                    </div>
                    <div class="history-amount">
                        ${{ order.amount }}
                        {% if order.paid %}
                        <span class="status-paid">âœ…</span>
                        {% else %}
                        <span class="status-unpaid">â³</span>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- åˆ†é  -->
            {% if pagination.pages > 1 %}
            <div class="pagination">
                {% if pagination.has_prev %}
                <a href="?page={{ pagination.prev_num }}" class="btn btn-small">ä¸Šä¸€é </a>
                {% endif %}

                <span class="page-info">
                    ç¬¬ {{ pagination.page }} / {{ pagination.pages }} é 
                </span>

                {% if pagination.has_next %}
                <a href="?page={{ pagination.next_num }}" class="btn btn-small">ä¸‹ä¸€é </a>
                {% endif %}
            </div>
            {% endif %}
            {% else %}
            <p class="no-data">é‚„æ²’æœ‰æ­·å²è¨˜éŒ„</p>
            {% endif %}
        </div>
    </div>
</body>
</html>